# API

## 요청과 응답

클라이언트

네이버의 주소 url 요청 → 서버가 해당하는 문서를 응답하는 방식

서버

API응답으로 주로 이용되는 표기법: JSON

파이썬의  dic,lst구조로 변환하여 활용

`https://api.agify.io/?name=nayeon`

`?name=nayeon` ?key=value

: 서버에서 설정한 key에 클라이언트가 value를 설정하여 요청 → 서버가 json으로 응답

## requests 라이브러리

- 파이썬에서 요청을 쉽게 보낼 수 있게 도와주는 모듈

- 내장X, 3rd party : 터미널에 따로 pip install 필요 

- pip list: 컴에 설치된 모든 라이브러리 확인

모듈 < 패키지 = 라이브러리

---

method = edit, create 등 규약을 설정하여 데이터 주고받는 방법 

---

# 로또 당첨 확인하기

```python
import random as rd
import requests

# 로또 당첨번호 api 받아옵니
r = requests.get('https://www.dhlottery.co.kr/common.do?method=getLottoNumber&drwNo=1049').json()
bonus = r['bnusNo']
num= []
for i in range(1,7):
    num.append(r[f'drwtNo{i}'])

cnt_lst = [0] * 5
t=0
while t<1000:
    my_num = list(rd.sample(range(1,46),6))
    point = 0
    for i in my_num:
        if i in num:
            point+=1
    # for  i in range(len(my_num)):
    #     if my_num[i] in num:
    #         point+=1


    if point == 6:
        cnt_lst[0]+=1
        print(f"#{t} ((경))********* 1등입니다! *********((축))")
    elif point == 5:
        cnt_lst[1]+=1
        # print(f"#{t} 축하합니다, 2등이네요!")
    elif (point == 5) and bonus in my_num:
        cnt_lst[2]+=1
        # print(f"#{t} 축하합니다, 3등이네요!")
    elif point ==4:
        cnt_lst[3]+=1
        # print(f"#{t} 4등입니다!") 
    elif point ==3:
        cnt_lst[4]+=1
        # print(f"#{t} 아쉽군요~ 5등입니다!") 
    else:
        pass

    t+=1
print(f'총 {cnt_lst[0]}번 1등하셨어요.')
print(f'총 {cnt_lst[1]}번 2등하셨어요.')
print(f'총 {cnt_lst[2]}번 3등하셨어요.')
print(f'총 {cnt_lst[3]}번 4등하셨어요.')
print(f'총 {cnt_lst[4]}번 5등하셨어요.')
print('당첨 확인이 끝났어요.')
```


